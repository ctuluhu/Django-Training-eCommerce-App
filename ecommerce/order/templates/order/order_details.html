{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}
    Order Details - eCommerce Training Site
{% endblock %}

{% block content %}
    <div>
        <div class="text-center">
            <br>
            <h1 class="text-center my_title">Order Details</h1>
            <br>
            <table class="table table-bordered">
                <tr>
                    <td class="text-left" colspan="2">
                        <b>Order: </b>#{{ order.id }}<br>
                        <b>Date: </b>{{ order.created | date:'d M Y' }}<br>
                        <b>Order Total: </b>${{ order.total }}<br>
                        <b>Order Status: </b><i class="fas fa-check"></i>&nbsp;Complete<br>
                    </td>
                    <td class="text-left" colspan="2">
                        <b>Billing Address: </b><br>
                        {{ order.billing_name }}<br>
                        {{ order.billing_address }}<br>
                        {{ order.billing_city }}<br>
                        {{ order.billing_postcode }}<br>
                        {{ order.billing_country }}<br>
                    </td>
                </tr>
                <tr>
                    <td><b>Product Description</b></td>
                    <td><b>Quantity</b></td>
                    <td><b>Unit Price</b></td>
                    <td><b>Sub-Total</b></td>
                </tr>
                {% for item in order_items %}
                <tr>
                    <td>{{ item.product }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.price }}</td>
                    <td>{{ item.sub_total }}</td>
                </tr>
                {% endfor %}
                <tr>
                    <td class="text-right" colspan="3"><b>Total</b></td>
                    <td>${{ order.total }}</td>
                </tr>
                <tr>
                    <td class="text-right" colspan="3"><b>Total Paid</b></td>
                    <td>${{ order.total }}</td>
                </tr>
                <tr>
                    <td class="text-left" colspan="2">
                        <b>Shipping Address: </b><br>
                        {{ order.shipping_name }}<br>
                        {{ order.shipping_address }}<br>
                        {{ order.shipping_city }}<br>
                        {{ order.shipping_postcode }}<br>
                        {{ order.shipping_country }}<br>
                    </td>
                    <td class="text-left" colspan="2">
                        <b>Payment Details: </b><br>
                        The order #{{ order.id }} has been paid successfully via Stripe.
                    </td>
                </tr>
            </table>
            <br>
            <button class="btn btn-secondary" onclick="window.print();"><i class="fas fa-print"></i>Print Order</button>
        </div>
    </div>
    <br>
    <br>
{% endblock %}
